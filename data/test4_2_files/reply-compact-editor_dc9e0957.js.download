(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1726:function(e,t){},1779:function(e,t,a){"use strict";var n=a(0),o=a.n(n),i=a(1719),c=a(1781),r=[{deserialize:function(e){if("#text"===e.nodeName){if(e.nodeValue&&e.nodeValue.match(/<!--.*?-->/))return;return{object:"text",text:e.nodeValue}}},serialize:function(e,t){if("string"===e.object)return t.replace(/ /g," ")}},{deserialize:function(e,t){switch(e.tagName.toLowerCase()){case"img":return"hupu-emoji"===e.getAttribute("data-type")?{object:"inline",type:"hupu-emoji",data:{emoji:e.getAttribute("src")},nodes:t(e.childNodes)}:{object:"block",type:"image",data:{src:e.getAttribute("src")},nodes:t(e.childNodes)};case"a":return"card-link"===e.getAttribute("data-type")?{object:"block",type:"card-link",data:{href:e.getAttribute("href"),name:e.getAttribute("data-name")},nodes:t(e.childNodes)}:{object:"inline",type:"link",data:{href:e.getAttribute("href")},nodes:t(e.childNodes)};case"span":if("vote"===e.getAttribute("data-type")){var a=Object(c.a)(),n=e.getAttribute("data-vote-id");return{object:"block",type:"vote",data:{voteId:n,vote:a[n||""]},nodes:t(e.childNodes)}}return}},serialize:function(e,t){switch(e.type){case"image":return o.a.createElement("img",{src:e.data.get("src")});case"hupu-emoji":return o.a.createElement("img",{"data-type":"hupu-emoji",src:e.data.get("emoji")});case"card-link":return o.a.createElement("a",{href:e.data.get("href"),"data-type":"card-link","data-name":e.data.get("name"),className:"hp-custom-link",target:"_blank"},e.data.get("name"));case"link":return o.a.createElement("a",{href:e.data.get("href"),target:"_blank"},t);case"vote":return o.a.createElement("span",{"data-type":"vote","data-vote-id":e.data.get("voteId")},t)}}},{deserialize:function(e,t){switch(e.tagName.toLowerCase()){case"hr":return{object:"block",type:"divider"};case"br":return"p"===e.getAttribute("data-tag")?{object:"block",type:"paragraph",nodes:[{object:"text",text:""}]}:{object:"block",type:"alignment",data:{align:e.getAttribute("data-align")},nodes:[{object:"text",text:""}]};case"div":switch(e.getAttribute("data-type")){case"align":return{object:"block",type:"alignment",data:{align:e.getAttribute("data-align")},nodes:t(e.childNodes)};case"normal":return{object:"block",type:"paragraph",nodes:t(e.childNodes)}}return;case"p":return{object:"block",type:"paragraph",nodes:t(e.childNodes)};case"h3":return{object:"block",type:"heading3",nodes:t(e.childNodes)};case"video":return{object:"block",type:"video",data:{url:e.getAttribute("src"),previewUrl:e.getAttribute("data-preview"),type:"local",cover:e.getAttribute("poster"),desc:e.getAttribute("data-desc")},nodes:t(e.childNodes)}}},serialize:function(e,t){switch(e.type){case"divider":return o.a.createElement("hr",null);case"alignment":return function(e){return!(e.size>1)&&(0==e.size||""===e.get(0)[0])}(t)?o.a.createElement("br",{"data-tag":"div","data-type":"align","data-align":e.data.get("align"),style:{textAlign:e.data.get("align")}}):o.a.createElement("div",{"data-type":"align","data-align":e.data.get("align"),style:{textAlign:e.data.get("align")}},t);case"paragraph":return o.a.createElement("p",null,t);case"heading3":return o.a.createElement("h3",null,t);case"video":return o.a.createElement("video",{controls:!0,poster:e.data.get("cover"),src:e.data.get("url"),"data-cover":e.data.get("cover"),"data-desc":e.data.get("desc"),"data-preview":e.data.get("previewUrl")})}}},{deserialize:function(e,t){switch(e.tagName.toLowerCase()){case"strong":return{object:"mark",type:"bold",nodes:t(e.childNodes)};case"em":return{object:"mark",type:"italic",nodes:t(e.childNodes)};case"u":return{object:"mark",type:"underlined",nodes:t(e.childNodes)};case"span":switch(e.getAttribute("data-type")){case"font-color":return{object:"mark",type:"font-color",data:{fontColor:e.getAttribute("data-color")},nodes:t(e.childNodes)};case"font-family":return{object:"mark",type:"font-family",data:{fontFamily:e.getAttribute("data-font-family")},nodes:t(e.childNodes)};case"font-size":return{object:"mark",type:"font-size",data:{fontSize:e.getAttribute("data-font-size")},nodes:t(e.childNodes)}}return}},serialize:function(e,t){switch(e.type){case"bold":return o.a.createElement("strong",null,t);case"italic":return o.a.createElement("em",null,t);case"underlined":return o.a.createElement("u",null,t);case"font-color":return o.a.createElement("span",{"data-type":"font-color","data-color":e.data.get("fontColor"),style:{color:e.data.get("fontColor")}},t);case"font-family":return o.a.createElement("span",{"data-type":"font-family","data-font-family":e.data.get("fontFamily"),style:{fontFamily:e.data.get("fontFamily")}},t);case"font-size":return o.a.createElement("span",{"data-type":"font-size","data-font-size":e.data.get("fontSize"),style:{fontSize:e.data.get("fontSize")}},t)}}}],s=new i.a({rules:r});t.a=s},1781:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(22),o=a.n(n),i=a(1716),c=a.n(i),r={votes:{}},s=function(e){if(r.votes={},e)for(var t=0,a=Object.entries(e);t<a.length;t++){var n=o()(a[t],2),i=n[0],s=n[1];r.votes[i]={title:(l=s).title,options:l.choices.map((function(e){return{id:c()(),text:e}})),isMultiple:"radio"!==l.type,mostOptions:l.limit}}var l},l=function(){return r.votes}},1782:function(e,t,a){"use strict";var n=a(22),o=a.n(n),i=a(0),c=a.n(i),r=a(1706),s=a(169),l=a(656),d=a(90),u=a(105),p=a(152),m=a(67),g=(a(1787),function(e){var t=e.telphone,a=e.visible,n=e.onClose,g=e.onFinish,h=Object(i.useState)(0),f=o()(h,2),A=f[0],E=f[1],b=Object(i.useState)(""),C=o()(b,2),v=C[0],y=C[1],w=Object(i.useRef)(),j=Object(m.g)()?"/bbs-pcm-api":"",B=Object(u.debounce)((function(){Object(p.b)("".concat(j,"/pcmapi/pc/bbs/v1/mobileTwiceValidate?vCode=").concat(v),{}).then((function(e){1===e.code?(n(),g(),d.a.info("身份验证成功")):d.a.error(e.msg)})).catch((function(){d.a.error("身份验证失败")}))}),300),M=Object(u.debounce)((function(){Object(p.b)("".concat(j,"/pcmapi/pc/bbs/v1/validateCode"),{}).then((function(e){1===e.code?d.a.info("发送验证码成功"):d.a.error(e.msg)})).finally((function(){E(60)}))}),300);Object(i.useEffect)((function(){clearInterval(w.current),A<=0?E(0):w.current=setInterval((function(){E((function(e){return e-1}))}),1e3)}),[A]);var I=Object(i.useMemo)((function(){return"sit"===m.d||"stg"===m.d?"https://passport-".concat(m.d,".hupu.com/v2/repassword"):"https://passport.hupu.com/v2/repassword"}),[]);return c.a.createElement(l.a,{visible:a,onCancel:n,onConfirm:B,hideCloseIcon:!0,hideFooter:!0,width:550,modalWrapClassName:"authCheckModal-wrapper"},c.a.createElement("section",{className:"authCheckModal-content"},c.a.createElement("div",{className:"hp-logo-box"}),c.a.createElement("div",{className:"telphone-box"},c.a.createElement(r.a,{placeholder:"请输入手机号",disabled:!0,value:t})),c.a.createElement("div",{className:"code-box"},c.a.createElement(r.a,{placeholder:"输入短信验证码",className:"code-input",value:v,onChange:function(e){var t;return y((null===(t=(e.target.value||"").match(/\d{0,6}/g))||void 0===t?void 0:t[0])||"")}}),0===A?c.a.createElement(s.a,{type:"primary",className:"code-btn",onClick:M},"获取短信验证码"):c.a.createElement(s.a,{type:"primary",className:"code-btn",onClick:M,disabled:!0},A,"秒后重发")),c.a.createElement(s.a,{type:"primary",className:"submit-btn",onClick:B,disabled:6!==v.length},"验证账号"),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("a",{href:I,style:{marginTop:15}},"修改密码"),c.a.createElement("p",{className:"tips-box"},"如有问题，点击 ",c.a.createElement("a",{href:"https://activity-static.hupu.com/activities/activity-220211-0mlfogq3/index.html",target:"_blank"},"「联系客服」")))))});t.a=Object(i.memo)(g)},1783:function(e,t,a){"use strict";var n=a(0),o=a.n(n),i=a(656),c=function(e){var t=e.visible,a=e.onClose;return o.a.createElement(i.a,{title:"提示",visible:t,hideCancelButton:!0,hideCloseIcon:!0,width:400,onConfirm:function(){return a()}},o.a.createElement("div",null,"检测到账号或行为异常，点击 ",o.a.createElement("a",{href:"https://activity-static.hupu.com/activities/activity-220211-0mlfogq3/index.html",target:"_blank"},"「联系客服」")))};t.a=Object(n.memo)(c)},1786:function(e,t,a){"use strict";var n,o,i,c,r,s=a(42),l=a.n(s),d=a(116),u=a.n(d),p=a(117),m=a.n(p),g=a(839),h=a.n(g),f=a(118),A=a.n(f),E=a(119),b=a.n(E),C=a(81),v=a.n(C),y=a(0),w=a.n(y),j=a(781),B=a(1788),M=a.n(B),I=function(e){var t=e.error,a=function(e){if(4033===e.code)return w.a.createElement("a",{className:M.a.link,target:"_self",href:window.location.href},"尝试刷新");if(!e.data)return null;var t=40313===e.code?"".concat(e.data.redirect,"&").concat(Object(j.stringify)({from:encodeURIComponent(window.location.href.replace(/^https?:\/\//,""))})):"".concat(e.data.redirect,"?").concat(Object(j.stringify)({source:"PC",from:window.location.host}));return w.a.createElement("a",{className:M.a.link,target:"_self",href:t},"点此处跳转")}(t);return w.a.createElement(w.a.Fragment,null,w.a.createElement("span",{className:M.a.message},t.message),w.a.createElement("span",{className:M.a.linkContainer},a))},O=a(1789),k=a.n(O),R=a(1779),Y=a(90),x=a(1782),N=a(1783),S=a(1702),G=a(67),U=(o=("dev"===G.c?"stg":G.c)||"prod",i="undefined"!=typeof window&&(null===(n=window.__hupu_userInfo__)||void 0===n?void 0:n.euid)||"",c="https://offline-download.hupu.com/online/".concat(o,"/310013/index.html?env=").concat(o,"&euid=").concat(i),r="https://offline-download.hupu.com/online/".concat(o,"/310013/exam.html?env=").concat(o),[{businessType:"light_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持点亮，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"提升声望",schema:c,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"post_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持发帖，可通过答题解锁发帖功能",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"前往答题",schema:r,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"replies_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持回帖，可通过答题解锁回帖功能",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"前往答题",schema:r,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"report_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持举报，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"提升声望",schema:c,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"private_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持私信，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"提升声望",schema:c,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"lightout_nopass",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持发布点灭，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"提升声望",schema:c,hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"cannotPic",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持发布图片贴，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"前往答题",schema:"",hightLight:!0,disable:!0,id:"jump"}]}},{businessType:"cannotVideo",type:"middleAlert",body:{title:"",text:"很抱歉，当前声望不支持发布视频贴，请继续加油",buttonItems:[{title:"取消",schema:"",hightLight:!1,disable:!0,id:"cancel"},{title:"提升声望",schema:c,hightLight:!0,disable:!0,id:"jump"}]}}]);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var o=v()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return b()(this,a)}}var P=function(e){A()(a,e);var t=Q(a);function a(e){var n;return u()(this,a),(n=t.call(this,e)).editorValidate=function(){var e=n.props,t=e.post,a=t.title,o=t.videoUrl,i=t.content,c=e.type,r=e.needVideo,s=e.titleMin;if("reply"!==c){if(!a)return n.setState({isReleasingPost:!1,postError:{code:4005,message:"标题为空或标题格式有误"}}),!1;if(a&&s&&function(e){for(var t=0,a=0;a<e.length;a++){var n=e.charCodeAt(a);n>=1&&n<=126||65376<=n&&n<=65439?t++:t+=2}return Math.ceil(t/2)}(a)<s)return n.setState({isReleasingPost:!1,postError:{code:4005,message:"标题格式有误"}}),!1;if(!o&&r)return n.setState({isReleasingPost:!1,postError:{code:4005,message:"请上传视频"}}),!1}else{if(""===("string"==typeof i?i:R.a.serialize(i)).replace(/<p>|<\/p>/g,"").trim())return n.setState({isReleasingPost:!1,postError:{code:4005,message:"请输入回帖内容"}}),!1}return!0},n.releasePost=function(){var e=n.state,t=e.isReleasingPost,a=e.postError;if(!t){var o=n.props,i=o.type,c=o.nonce,r=o.post,s=o.api,l=o.method,d=o.callback,u=o.sendReleasePoint;u&&u();var p=h()(n).editorValidate;n.setState({isReleasingPost:!0});var m=p(),g=r.fid,f=r.topicId,A=r.title,E=r.cateId,b=r.videoCover,C=r.videoUrl,v=r.videoSource,y=r.videoPreview,w=r.content,j=r.tid,B=r.pid,M=r.quoteId,I="string"==typeof w?w:R.a.serialize(w);m&&fetch("".concat("").concat(s),{method:l||"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(function(e){var t,a,n,o,i,r,s={fid:g,topicId:f,videoCover:b,videoUrl:C,videoSource:v,videoPreview:y,content:I,shumeiId:null!==(t=null===(a=SMSdk)||void 0===a||null===(n=a.getDeviceId)||void 0===n?void 0:n.call(a))&&void 0!==t?t:"",deviceid:null!==(o=null===(i=SMSdk)||void 0===i||null===(r=i.getDeviceId)||void 0===r?void 0:r.call(i))&&void 0!==o?o:""},l={};switch(e){case"reply":l=T({quoteId:M,tid:j},B?{pid:B,data:{atc_content:I}}:{});break;default:l={nonce:c,title:A,cateId:E}}return T(T({},s),l)}(i))}).then((function(e){return e.json()})).then((function(e){if(-10086===e.code)return n.setState({telphone:e.data||"",isShowAuthCheckModal:!0}),void Y.a.error(e.msg);if(0!==e.code||"PC300001"!==e.internalCode){if("reply"===i&&0===e.code&&["RH020000","RH020001","RH020002"].includes(e.internalCode))return function(e){var t=U.find((function(t){return t.businessType===e}));if(t){var a=t.body.buttonItems,n=a.find((function(e){return"cancel"===e.id})),o=a.find((function(e){return"jump"===e.id}));S.a.confirm({title:t.body.text,icon:null,width:400,style:{height:"225px"},maskClosable:!1,okButtonProps:{style:{background:"#C60100",borderColor:"#C60100",color:"#fff"}},onOk:function(){o&&(window.location.href=o.schema)},okText:(null==o?void 0:o.title)||"确认",cancelText:(null==n?void 0:n.title)||"取消"})}}("RH020000"===e.internalCode?"replies_nopass":"RH020001"===e.internalCode?"cannotPic":"RH020002"===e.internalCode?"cannotVideo":"replies_nopass"),void n.setState({isReleasingPost:!1});if(1!==e.code&&200!==e.code)return Y.a.error(e.msg),void n.setState({isReleasingPost:!1});Y.a.info(e.msg),n.setState({isReleasingPost:!1,postError:200===e.code?a:e},(function(){return d(e)}))}else n.setState({isShowFeedBack:!0})}))}},n.state={isReleasingPost:!1,postError:null,telphone:"",isShowAuthCheckModal:!1,isShowFeedBack:!1},n}return m()(a,[{key:"render",value:function(){var e=this,t=this.props.type,a=this.releasePost,n=this.state,o=n.postError,i=n.isReleasingPost,c=n.telphone,r=n.isShowAuthCheckModal,s=n.isShowFeedBack,l="reply"===t?"回复":"发布";return w.a.createElement("div",{className:k.a.operatorButtonContainer},w.a.createElement("div",{onClick:a,className:k.a.operatorButton},i?w.a.createElement(w.a.Fragment,null,w.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false",className:"button-loading-spin",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},w.a.createElement("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"})),w.a.createElement("span",{className:k.a.releasingText},l,"中")):l),!!o&&w.a.createElement("div",{className:"reply"===t?k.a.errorReplyMessage:k.a.errorMessage},w.a.createElement(I,{error:o})),w.a.createElement(x.a,{telphone:c,visible:r,onClose:function(){e.setState({isShowAuthCheckModal:!1})},onFinish:function(){e.setState({isShowAuthCheckModal:!1},(function(){e.releasePost()}))}}),w.a.createElement(N.a,{visible:s,onClose:function(){e.setState({isShowFeedBack:!1})}}))}}]),a}(y.Component);t.a=P},1787:function(e,t,a){},1788:function(e,t,a){e.exports={message:"message_1lsHb",link:"link_h-QZK"}},1789:function(e,t,a){e.exports={operatorButtonContainer:"operatorButtonContainer_13XRZ",operatorButton:"operatorButton_31LJx",releasingText:"releasingText_2xtnz",errorMessage:"errorMessage_3yl8_",errorReplyMessage:"errorReplyMessage_Ss5-v"}},1840:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAGFBMVEUAAAD///////////////////////////8jfp1fAAAAB3RSTlMAnTQdAtuedLEIOAAAAFlJREFUCNdjwAmYFcCUMogwLwSRjOUGQFK9XABIipcrgEUKoQRYSACMGSASjiBhqEQ4UBgC2Mrhwgws4eUhMDYjVByhHmaOG0QCYT7MXogFCPeguhPhfpwAAFpEFy0Prc3jAAAAAElFTkSuQmCC"},1869:function(e,t){e.exports="data:image/png;base64,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"},1870:function(e,t,a){e.exports={"upload-image":"upload-image_1jGFu","uploading-content":"uploading-content_4EaWw",text:"text_2upA4","uploaded-content":"uploaded-content_FmVZC",image:"image_2TqL8","icon-close":"icon-close_2G269"}},1871:function(e,t,a){e.exports={compact:"compact_GGBaG",photo:"photo_3asAr",main:"main_FmU61",images:"images_OKak4",upload:"upload_3CJhu",icon:"icon_1FhHN",actions:"actions_2BZ4e",link:"link_7Gt3e",login:"login_2ZFFu",editor:"editor_xoXtg",tips:"tips_26ebQ",btn:"btn_1CAhF","btn-icon":"btn-icon_2YTjq","btn-text":"btn-text_155ze",disabled:"disabled_30pym",text:"text_1w7Yj",image:"image_8uyXt","icon-close":"icon-close_1-LOo","not-loaded":"not-loaded_bWtz4"}},1874:function(e,t,a){"use strict";a.r(t);var n=a(42),o=a.n(n),i=a(112),c=a.n(i),r=a(22),s=a.n(r),l=a(0),d=a.n(l),u=a(1759),p=a(1757),m=a(1755),g=a(1760),h=a(1720),f=a(2),A=a.n(f),E=a(90),b=a(1786),C=a(1869),v=a.n(C),y=a(1840),w=a.n(y),j=a(1018),B=a(1716),M=(a(80),a(33),a(1197)),I=new(a.n(M).a)({appId:"sHCGmnf6Q22giqt5BD8dvZY8lB4=",module:"reply-oss",path:"/reply",secretKey:"tsB7gwSsXPo9UTtSYFcPdtfckis=",host:"i1.hoopchina.com.cn"});I.start();var O=a(1870),k=a.n(O),R=function(e){var t,a=e.file,n=e.onSuccess,i=e.onClear,c=Object(l.useState)(!0),r=s()(c,2),u=r[0],p=r[1],m=Object(l.useState)(),g=s()(m,2),h=g[0],f=g[1],b=Object(l.useState)(0),C=s()(b,2),v=C[0],y=C[1],M=a.name,O=M.slice(M.lastIndexOf(".")),R="".concat(Date.now(),"-").concat(Object(B.v4)()).concat(O);return Object(l.useEffect)((function(){p(!0),I.multipartUpload("reply/".concat(R),a,{progress:function(e){y(Math.round(100*e))}}).then((function(e){var t=e.downloadUrl;p(!1),f(t),n(t)})).catch((function(){E.a.error("图片上传失败，请重试"),p(!1),i()}))}),[]),d.a.createElement("div",{className:A()(k.a["upload-image"],(t={},o()(t,k.a.uploading,u),o()(t,k.a.uploaded,!!h),t))},u&&d.a.createElement("div",{className:k.a["uploading-content"]},d.a.createElement("div",{className:k.a.text},"上传中"),d.a.createElement(j.a,{type:"line",percent:v,strokeWidth:4,strokeColor:"#c60100",showInfo:!1})),h&&d.a.createElement("div",{className:k.a["uploaded-content"]},d.a.createElement("img",{className:k.a.image,src:"".concat(h,"?x-oss-process=image/resize,w_300"),alt:"",onError:i}),d.a.createElement("div",{className:k.a["icon-close"],onClick:i},d.a.createElement("img",{src:w.a,alt:""}))))},Y=a(1871),x=a.n(Y),N=function(e){var t=e.isLogin,a=e.photo,n=e.spaceUrl,i=e.fid,r=e.topicId,f=e.tid,C=e.pid,y=e.quoteId,w=Object(l.useState)([]),j=s()(w,2),B=j[0],M=j[1],I=Object(l.useState)([]),O=s()(I,2),k=O[0],Y=O[1],N=Object(l.useState)(""),S=s()(N,2),G=S[0],U=S[1],z=Object(u.b)({extensions:[p.a,m.a.configure({placeholder:"留下你的亮评"}),g.a.configure({openOnClick:!0})],onUpdate:function(e){var t=e.editor.getHTML(),a=B.map((function(e){return'<img src="'.concat(e,'" />')})).join("");U("".concat(t).concat(a))}}),T=Object(l.useMemo)((function(){var e=B.map((function(e){return'<img src="'.concat(e,'" />')})).join("");return{fid:i,topicId:r,tid:f,pid:C,quoteId:y,content:"".concat(G).concat(e)}}),[i,r,f,C,y,B,G]),Q=k.length>=9,P={accept:"image/png, image/jpeg, image/jpg, image/gif",multiple:!0,disabled:Q,beforeUpload:function(e){return e.size/1024/1024<15?Y((function(t){return[].concat(c()(t),[e]).splice(0,9)})):E.a.error("图片大小不能超过".concat(15,"M")),!1}};return d.a.createElement("div",{className:x.a.compact},d.a.createElement("a",{href:n||void 0,className:x.a.photo},d.a.createElement("img",{className:x.a.photo,src:a||"https://w1.hoopchina.com.cn/games/images/def_man.png"})),d.a.createElement("div",{className:x.a.main},!t&&d.a.createElement("div",{className:x.a.login},d.a.createElement("span",null,"你需要登录后才可以回复，请",d.a.createElement("a",{href:"https://passport.hupu.com/pc/login?project=local&from=pc",className:x.a.link},"登录"),"或者",d.a.createElement("a",{href:"https://passport.hupu.com/pc/register?project=local&from=pc",className:x.a.link},"立即注册")),d.a.createElement("a",{href:"https://passport.hupu.com/pc/login?project=local&from=pc",className:x.a.bottomLeftLink}),d.a.createElement("a",{href:"https://passport.hupu.com/pc/login?project=local&from=pc",className:x.a.bottomRightLink})),d.a.createElement("div",{className:x.a.editor},d.a.createElement(u.a,{editor:z}),t&&k.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:x.a.images},k.map((function(e,t){return d.a.createElement(R,{key:e.uid,file:e,onSuccess:function(e){M((function(t){return[].concat(c()(t),[e])}))},onClear:function(){return function(e){var t=c()(B);t.splice(e,1),M(t);var a=c()(k);a.splice(e,1),Y(a)}(t)}})})),!Q&&d.a.createElement("div",{className:x.a.item,id:"editor-upload"},d.a.createElement(h.a,P,d.a.createElement("div",{className:x.a.upload},d.a.createElement("img",{className:x.a.icon,src:v.a,alt:""})))))),d.a.createElement("div",{className:x.a.tips},d.a.createElement(h.a,P,d.a.createElement("div",{className:A()(x.a.btn,o()({},x.a.disabled,Q))},d.a.createElement("i",{className:A()("iconfont","icontupian",x.a["btn-icon"])}),d.a.createElement("span",{className:x.a["btn-text"]},"图片"))),d.a.createElement("span",{className:x.a.text},B.length<9?"还可以添加".concat(9-B.length,"张图片"):"最多可添加".concat(9,"张图片")))),d.a.createElement("div",{className:x.a.actions},d.a.createElement("a",{className:x.a.link,href:"/reply/".concat(r,"/").concat(f).concat(C?"/".concat(C):"","?quoteId=").concat(y||"")},"高级回复"),d.a.createElement("div",{className:x.a.btn},d.a.createElement(b.a,{nonce:"",api:"/pcmapi/pc/bbs/v1/createReply",type:"reply",post:T,callback:function(e){var t=e.code;200!==t&&1!==t||window.open("/".concat(f,"-1.html"),"_self")}})))))};t.default=N}}]);